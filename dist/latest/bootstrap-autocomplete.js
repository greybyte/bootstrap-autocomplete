!function(t){var e={};function s(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(i,o,function(e){return t[e]}.bind(null,o));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e),s.d(e,"AutoComplete",(function(){return l}));var i,o=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])})(t,e)},function(t,e){function s(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}),n=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.getDefaults=function(){return{url:"",method:"get",queryKey:"q",extraData:{},timeout:void 0,requestThrottling:500}},e.prototype.search=function(t,e){var s=this;null!=this.jqXHR&&this.jqXHR.abort();var i={};i[this._settings.queryKey]=t,$.extend(i,this._settings.extraData),this.requestTID&&window.clearTimeout(this.requestTID),this.requestTID=window.setTimeout((function(){s.jqXHR=$.ajax(s._settings.url,{method:s._settings.method,data:i,timeout:s._settings.timeout}),s.jqXHR.done((function(t){e(t)})),s.jqXHR.fail((function(t){s._settings&&s._settings.fail&&s._settings.fail(t)})),s.jqXHR.always((function(){s.jqXHR=null}))}),this._settings.requestThrottling)},e}(function(){function t(t){this._settings=$.extend(!0,{},this.getDefaults(),t)}return t.prototype.getDefaults=function(){return{}},t.prototype.getResults=function(t,e,s){return this.results},t.prototype.search=function(t,e){e(this.getResults())},t}()),r=function(){function t(t,e,s,i){this.initialized=!1,this.shown=!1,this.items=[],this.ddMouseover=!1,this._$el=t,this.formatItem=e,this.autoSelect=s,this.noResultsText=i}return t.prototype.init=function(){var t=this,e=$.extend({},this._$el.position(),{height:this._$el[0].offsetHeight});this._dd=$("<ul />"),this._dd.addClass("bootstrap-autocomplete dropdown-menu"),this._dd.insertAfter(this._$el),this._dd.css({top:e.top+this._$el.outerHeight(),left:e.left,width:this._$el.outerWidth()}),this._dd.on("click","li",(function(e){var s=$(e.currentTarget).data("item");t.itemSelectedLaunchEvent(s)})),this._dd.on("keyup",(function(e){if(t.shown){switch(e.which){case 27:t.hide(),t._$el.focus(),e.stopPropagation()}return!1}})),this._dd.on("mouseenter",(function(e){t.ddMouseover=!0})),this._dd.on("mouseleave",(function(e){t.ddMouseover=!1})),this._dd.on("mouseenter","li",(function(e){t.haveResults&&($(e.currentTarget).closest("ul").find("li.active").removeClass("active"),$(e.currentTarget).addClass("active"),t.mouseover=!0)})),this._dd.on("mouseleave","li",(function(e){t.mouseover=!1})),this.initialized=!0},t.prototype.onItemSelected=function(t){},t.prototype.setLoading=function(t){},t.prototype.checkInitialized=function(){this.initialized||this.init()},Object.defineProperty(t.prototype,"isMouseOver",{get:function(){return this.mouseover},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDdMouseOver",{get:function(){return this.ddMouseover},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"haveResults",{get:function(){return this.items.length>0},enumerable:!1,configurable:!0}),t.prototype.focusNextItem=function(t){if(this.haveResults){var e=this._dd.find("li.active"),s=t?e.prev():e.next();0===s.length&&(s=t?this._dd.find("li").last():this._dd.find("li").first()),e.removeClass("active"),s.addClass("active")}},t.prototype.focusPreviousItem=function(){this.focusNextItem(!0)},t.prototype.selectFocusItem=function(){this._dd.find("li.active").trigger("click")},Object.defineProperty(t.prototype,"isItemFocused",{get:function(){return!!(this.isShown()&&this._dd.find("li.active").length>0)},enumerable:!1,configurable:!0}),t.prototype.show=function(){this.shown||(this._dd.addClass("show"),this.shown=!0)},t.prototype.isShown=function(){return this.shown},t.prototype.hide=function(){this.shown&&(this._dd.removeClass("show"),this.shown=!1)},t.prototype.updateItems=function(t,e){this.items=t,this.searchText=e,this.refreshItemList()},t.prototype.showMatchedText=function(t,e){var s=t.toLowerCase().indexOf(e.toLowerCase());if(s>-1){var i=s+e.length;return t.slice(0,s)+"<b>"+t.slice(s,i)+"</b>"+t.slice(i)}return t},t.prototype.refreshItemList=function(){var t=this;this.checkInitialized(),this._dd.empty();var e=[];if(this.items.length>0)this.items.forEach((function(s){var i,o,n=t.formatItem(s);"string"==typeof n&&(n={text:n}),i=t.showMatchedText(n.text,t.searchText),o=void 0!==n.html?n.html:i;var r=n.disabled,a=$("<li >");a.append($("<a>").attr("href","#!").html(o)).data("item",s),r&&a.addClass("disabled"),e.push(a)}));else{var s=$("<li >");s.append($("<a>").attr("href","#!").html(this.noResultsText)).addClass("disabled"),e.push(s)}this._dd.append(e),this.show()},t.prototype.itemSelectedLaunchEvent=function(t){this._$el.trigger("autocomplete.select",t),this.hide()},t}(),a=function(){function t(t,e,s,i,o){this.initialized=!1,this.shown=!1,this.items=[],this.ddMouseover=!1,this._$el=t,this.formatItem=e,this.formatFreeValue=i,this.autoSelect=s,this.indicators=o,this._$wrap=this._$el.wrap('<div class="indicator-wrap" style="position: relative;"/>').parent()}return t.prototype.getElPos=function(){return $.extend({},this._$el.parents(".indicator-wrap").position(),{height:this._$el[0].offsetHeight})},t.prototype.init=function(){var t=this,e=this.getElPos();this._dd=$("<div />"),this._dd.addClass("bootstrap-autocomplete dropdown-menu"),this._dd.insertAfter(this._$el.parents(".indicator-wrap")),this._dd.css({top:e.top+this._$el.outerHeight(),left:e.left,width:this._$el.outerWidth()}),this._dd.on("click",".dropdown-item",(function(e){var s=$(e.currentTarget).data("item");t.itemSelectedLaunchEvent(s),e.preventDefault()})),this._dd.on("keyup",(function(e){if(t.shown){switch(e.which){case 27:t.hide(),t._$el.focus()}return!1}})),this._dd.on("mouseenter",(function(e){t.ddMouseover=!0})),this._dd.on("mouseleave",(function(e){t.ddMouseover=!1})),this._dd.on("mouseenter",".dropdown-item",(function(e){t.haveResults&&($(e.currentTarget).closest("div").find(".dropdown-item.active").removeClass("active"),$(e.currentTarget).addClass("active"),t.mouseover=!0)})),this._dd.on("mouseleave",".dropdown-item",(function(e){t.mouseover=!1})),this.initialized=!0},t.prototype.setIndicator=function(t){var e=this._$wrap.find(".form-control-feedback");e.length<1&&t?$('<span class="form-control-feedback">'+t+"</span>").appendTo(this._$wrap):e.html(t)},t.prototype.onItemSelected=function(t){this.setIndicator(this.indicators.selected)},t.prototype.setLoading=function(t){this.setIndicator(t?this.indicators.loading:this.indicators.empty)},t.prototype.checkInitialized=function(){this.initialized||this.init()},Object.defineProperty(t.prototype,"isMouseOver",{get:function(){return this.mouseover},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDdMouseOver",{get:function(){return this.ddMouseover},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"haveResults",{get:function(){return this.items.length>0},enumerable:!1,configurable:!0}),t.prototype.focusNextItem=function(t){if(this.haveResults){var e=this._dd.find(".dropdown-item.active"),s=t?e.prev():e.next();0===s.length&&(s=t?this._dd.find(".dropdown-item").last():this._dd.find(".dropdown-item").first()),e.removeClass("active"),s.addClass("active")}},t.prototype.focusPreviousItem=function(){this.focusNextItem(!0)},t.prototype.selectFocusItem=function(){this._dd.find(".dropdown-item.active").trigger("click")},Object.defineProperty(t.prototype,"isItemFocused",{get:function(){return!!(this._dd&&this.isShown()&&this._dd.find(".dropdown-item.active").length>0)},enumerable:!1,configurable:!0}),t.prototype.show=function(){if(!this.shown){this.setIndicator(this.indicators.empty),this._$el.trigger("autocomplete.dd.showing");var t=this.getElPos();this._dd.css({top:t.top+this._$el.outerHeight(),left:t.left,width:this._$el.outerWidth(),overflowY:"auto",maxHeight:"calc(100vh - "+(this._$el.offset().top+50)+"px)"}),this._dd.addClass("show"),this.shown=!0,this._$el.trigger("autocomplete.dd.shown")}},t.prototype.isShown=function(){return this.shown},t.prototype.hide=function(){this.shown&&(this._dd.removeClass("show"),this.shown=!1,this._$el.trigger("autocomplete.dd.hidden"))},t.prototype.updateItems=function(t,e){this.items=t,this.searchText=e,this.refreshItemList()},t.prototype.showMatchedText=function(t,e){var s=t.toLowerCase().indexOf(e.toLowerCase());if(s>-1){var i=s+e.length;return t.slice(0,s)+"<b>"+t.slice(s,i)+"</b>"+t.slice(i)}return t},t.prototype.refreshItemList=function(){var t=this;this.checkInitialized(),this._dd.empty();var e=[];if(this.items.length>0)this.items.forEach((function(s){var i,o,n=t.formatItem(s);"string"==typeof n&&(n={text:n}),i=t.showMatchedText(n.text,t.searchText),o=void 0!==n.html?n.html:i;var r=n.disabled,a=$("<a >");a.addClass("dropdown-item").css({overflow:"hidden","text-overflow":"ellipsis"}).html(o).data("item",s),r&&a.addClass("disabled"),e.push(a)})),this._dd.append(e),this.show();else{var s=$("<a >");s.addClass("dropdown-item").html(this.formatFreeValue(this.searchText)),e.push(s),this._dd.append(e),this.show()}},t.prototype.itemSelectedLaunchEvent=function(t){t?this._$el.trigger("autocomplete.select",t):(this._$el.trigger("autocomplete.freevalue",this.searchText),this.hide())},t}(),l=function(){function t(t,e){this._selectedItem=null,this._defaultValue=null,this._defaultText=null,this._isSelectElement=!1,this._settings={resolver:"ajax",resolverSettings:{},minLength:3,valueKey:"value",formatResult:this.defaultFormatResult,formatFreeValue:function(t){return t},autoSelect:!0,noResultsText:"No results",indicators:{loading:"",selected:"",freeText:"",empty:""},bootstrapVersion:"auto",preventEnter:!1,events:{typed:null,searchPre:null,search:null,searchPost:null,select:null,focus:null}},this._el=t,this._$el=$(this._el),this._$el.is("select")&&(this._isSelectElement=!0),this.manageInlineDataAttributes(),"object"==typeof e&&(this._settings=$.extend(!0,{},this.getSettings(),e)),this._isSelectElement&&this.convertSelectToText(),this.init()}return t.prototype.manageInlineDataAttributes=function(){var t=this.getSettings();this._$el.data("url")&&(t.resolverSettings.url=this._$el.data("url")),this._$el.data("default-value")&&(this._defaultValue=this._$el.data("default-value")),this._$el.data("default-text")&&(this._defaultText=this._$el.data("default-text")),void 0!==this._$el.data("noresults-text")&&(t.noResultsText=this._$el.data("noresults-text"))},t.prototype.getSettings=function(){return this._settings},t.prototype.getBootstrapVersion=function(){var t;"auto"===this._settings.bootstrapVersion?t=$.fn.button.Constructor.VERSION.split(".").map(parseInt):"4"===this._settings.bootstrapVersion?t=[4]:"3"===this._settings.bootstrapVersion?t=[3]:(console.error("INVALID value for 'bootstrapVersion' settings property: "+this._settings.bootstrapVersion+" defaulting to 4"),t=[4]);return t},t.prototype.convertSelectToText=function(){var e=$("<input>");e.attr("type","hidden"),e.attr("name",this._$el.attr("name")),this._defaultValue&&e.val(this._defaultValue),this._selectHiddenField=e,e.insertAfter(this._$el);var s=$("<input>");s.attr("type","search"),s.attr("name",this._$el.attr("name")+"_text"),s.attr("id",this._$el.attr("id")),s.attr("disabled",this._$el.attr("disabled")),s.attr("placeholder",this._$el.attr("placeholder")),s.attr("autocomplete","off"),s.addClass(this._$el.attr("class")),this._defaultText&&s.val(this._defaultText);var i=this._$el.attr("required");i&&s.attr("required",i),s.data(t.NAME,this),this._$el.replaceWith(s),this._$el=s,this._el=s.get(0)},t.prototype.init=function(){this.bindDefaultEventListeners(),"ajax"===this._settings.resolver&&(this.resolver=new n(this._settings.resolverSettings)),4===this.getBootstrapVersion()[0]?this._dd=new a(this._$el,this._settings.formatResult,this._settings.autoSelect,this._settings.formatFreeValue,this._settings.indicators):this._dd=new r(this._$el,this._settings.formatResult,this._settings.autoSelect,this._settings.noResultsText)},t.prototype.bindDefaultEventListeners=function(){var t=this;this._$el.on("keydown",(function(e){switch(e.which){case 9:t._dd.isItemFocused?t._dd.selectFocusItem():t._selectedItem||""!==t._$el.val()&&t._$el.trigger("autocomplete.freevalue",t._$el.val()),t._dd.hide();break;case 13:t._dd.isItemFocused?t._dd.selectFocusItem():t._selectedItem||""!==t._$el.val()&&t._$el.trigger("autocomplete.freevalue",t._$el.val()),t._dd.hide(),t._settings.preventEnter&&e.preventDefault();break;case 40:t._dd.focusNextItem();break;case 38:t._dd.focusPreviousItem()}})),this._$el.on("keyup",(function(e){switch(e.which){case 16:case 17:case 18:case 39:case 37:case 36:case 35:break;case 13:case 27:t._dd.hide();break;case 40:case 38:break;default:t._selectedItem=null;var s=t._$el.val();t.handlerTyped(s)}})),this._$el.on("blur",(function(e){!t._dd.isMouseOver&&t._dd.isDdMouseOver&&t._dd.isShown()?(setTimeout((function(){t._$el.focus()})),t._$el.focus()):t._dd.isMouseOver||(t._isSelectElement?t._dd.isItemFocused?t._dd.selectFocusItem():null!==t._selectedItem&&""!==t._$el.val()?t._$el.trigger("autocomplete.select",t._selectedItem):""!==t._$el.val()&&null!==t._defaultValue?(t._$el.val(t._defaultText),t._selectHiddenField.val(t._defaultValue),t._selectedItem=null,t._$el.trigger("autocomplete.select",t._selectedItem)):(t._$el.val(""),t._selectHiddenField.val(""),t._selectedItem=null,t._$el.trigger("autocomplete.select",t._selectedItem)):null===t._selectedItem&&t._$el.trigger("autocomplete.freevalue",t._$el.val()),t._dd.hide())})),this._$el.on("autocomplete.select",(function(e,s){t._selectedItem=s,t.itemSelectedDefaultHandler(s)})),this._$el.on("paste",(function(e){setTimeout((function(){t._$el.trigger("keyup",e)}),0)}))},t.prototype.handlerTyped=function(t){(null===this._settings.events.typed||(t=this._settings.events.typed(t,this._$el)))&&(t.length>=this._settings.minLength?(this._searchText=t,this.handlerPreSearch()):this._dd.hide())},t.prototype.handlerPreSearch=function(){if(null!==this._settings.events.searchPre){var t=this._settings.events.searchPre(this._searchText,this._$el);if(!t)return;this._searchText=t}this.handlerDoSearch()},t.prototype.handlerDoSearch=function(){var t=this;this._dd.setLoading(!0),null!==this._settings.events.search?this._settings.events.search(this._searchText,(function(e){t.postSearchCallback(e)}),this._$el):this.resolver&&this.resolver.search(this._searchText,(function(e){t.postSearchCallback(e)}))},t.prototype.postSearchCallback=function(t){this._settings.events.searchPost&&"boolean"==typeof(t=this._settings.events.searchPost(t,this._$el))&&!t||(this._dd.setLoading(!1),this.handlerStartShow(t))},t.prototype.handlerStartShow=function(t){this._dd.updateItems(t,this._searchText)},t.prototype.itemSelectedDefaultHandler=function(t){if(null!=t){var e=this._settings.formatResult(t);"string"==typeof e&&(e={text:e}),this._$el.val(e.text),this._isSelectElement&&this._selectHiddenField.val(e.value)}else this._$el.val(""),this._isSelectElement&&this._selectHiddenField.val("");this._selectedItem=t,this._dd.onItemSelected(t),this._dd.hide()},t.prototype.defaultFormatResult=function(t){return"string"==typeof t?{text:t}:t.text?t:{text:t.toString()}},t.prototype.manageAPI=function(t,e){"set"===t?this.itemSelectedDefaultHandler(e):"clear"===t?this.itemSelectedDefaultHandler(null):"show"===t?this._$el.trigger("keyup"):"updateResolver"===t&&(this.resolver=new n(e))},t.NAME="autoComplete",t}();!function(t,e,s){t.fn[l.NAME]=function(e,s){return this.each((function(){var i;(i=t(this).data(l.NAME))||(i=new l(this,e),t(this).data(l.NAME,i)),i.manageAPI(e,s)}))}}(jQuery,window,document)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Jlc29sdmVycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZHJvcGRvd25WMy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZHJvcGRvd25WNC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImV4dGVuZFN0YXRpY3MiLCJfX2V4dGVuZHMiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsIl9fIiwidGhpcyIsImNvbnN0cnVjdG9yIiwiQWpheFJlc29sdmVyIiwiX3N1cGVyIiwib3B0aW9ucyIsImdldERlZmF1bHRzIiwidXJsIiwibWV0aG9kIiwicXVlcnlLZXkiLCJleHRyYURhdGEiLCJ0aW1lb3V0IiwidW5kZWZpbmVkIiwicmVxdWVzdFRocm90dGxpbmciLCJzZWFyY2giLCJxIiwiY2JrIiwiX3RoaXMiLCJqcVhIUiIsImFib3J0IiwiZGF0YSIsIl9zZXR0aW5ncyIsIiQiLCJleHRlbmQiLCJyZXF1ZXN0VElEIiwid2luZG93IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImFqYXgiLCJkb25lIiwicmVzdWx0IiwiZmFpbCIsImVyciIsImFsd2F5cyIsIkJhc2VSZXNvbHZlciIsImdldFJlc3VsdHMiLCJsaW1pdCIsInN0YXJ0IiwiZW5kIiwicmVzdWx0cyIsIkRyb3Bkb3duVjMiLCJlIiwiZm9ybWF0SXRlbUNiayIsImF1dG9TZWxlY3QiLCJub1Jlc3VsdHNUZXh0IiwiaW5pdGlhbGl6ZWQiLCJzaG93biIsIml0ZW1zIiwiZGRNb3VzZW92ZXIiLCJfJGVsIiwiZm9ybWF0SXRlbSIsImluaXQiLCJwb3MiLCJwb3NpdGlvbiIsImhlaWdodCIsIm9mZnNldEhlaWdodCIsIl9kZCIsImFkZENsYXNzIiwiaW5zZXJ0QWZ0ZXIiLCJjc3MiLCJ0b3AiLCJvdXRlckhlaWdodCIsImxlZnQiLCJ3aWR0aCIsIm91dGVyV2lkdGgiLCJvbiIsImV2dCIsIml0ZW0iLCJjdXJyZW50VGFyZ2V0IiwiaXRlbVNlbGVjdGVkTGF1bmNoRXZlbnQiLCJ3aGljaCIsImhpZGUiLCJmb2N1cyIsInN0b3BQcm9wYWdhdGlvbiIsImhhdmVSZXN1bHRzIiwiY2xvc2VzdCIsImZpbmQiLCJyZW1vdmVDbGFzcyIsIm1vdXNlb3ZlciIsIm9uSXRlbVNlbGVjdGVkIiwic2V0TG9hZGluZyIsImxvYWRpbmciLCJjaGVja0luaXRpYWxpemVkIiwiY29uZmlndXJhYmxlIiwibGVuZ3RoIiwiZm9jdXNOZXh0SXRlbSIsInJldmVyc2VkIiwiY3VyckVsZW0iLCJuZXh0RWxlbSIsInByZXYiLCJuZXh0IiwibGFzdCIsImZpcnN0IiwiZm9jdXNQcmV2aW91c0l0ZW0iLCJzZWxlY3RGb2N1c0l0ZW0iLCJ0cmlnZ2VyIiwiaXNTaG93biIsInNob3ciLCJ1cGRhdGVJdGVtcyIsInNlYXJjaFRleHQiLCJyZWZyZXNoSXRlbUxpc3QiLCJzaG93TWF0Y2hlZFRleHQiLCJ0ZXh0IiwicXJ5Iiwic3RhcnRJbmRleCIsInRvTG93ZXJDYXNlIiwiaW5kZXhPZiIsImVuZEluZGV4Iiwic2xpY2UiLCJlbXB0eSIsImxpTGlzdCIsImZvckVhY2giLCJpdGVtVGV4dCIsIml0ZW1IdG1sIiwiaXRlbUZvcm1hdHRlZCIsImh0bWwiLCJkaXNhYmxlZEl0ZW0iLCJkaXNhYmxlZCIsImxpIiwiYXBwZW5kIiwiYXR0ciIsInB1c2giLCJEcm9wZG93blY0IiwiZm9ybWF0RnJlZVZhbHVlIiwiaW5kaWNhdG9ycyIsIl8kd3JhcCIsIndyYXAiLCJwYXJlbnQiLCJnZXRFbFBvcyIsInBhcmVudHMiLCJwcmV2ZW50RGVmYXVsdCIsInNldEluZGljYXRvciIsImNvbnRlbnQiLCIkaW5kaWNhdG9yIiwiYXBwZW5kVG8iLCJzZWxlY3RlZCIsIm92ZXJmbG93WSIsIm1heEhlaWdodCIsIm9mZnNldCIsIkF1dG9Db21wbGV0ZSIsImVsZW1lbnQiLCJfc2VsZWN0ZWRJdGVtIiwiX2RlZmF1bHRWYWx1ZSIsIl9kZWZhdWx0VGV4dCIsIl9pc1NlbGVjdEVsZW1lbnQiLCJyZXNvbHZlciIsInJlc29sdmVyU2V0dGluZ3MiLCJtaW5MZW5ndGgiLCJ2YWx1ZUtleSIsImZvcm1hdFJlc3VsdCIsImRlZmF1bHRGb3JtYXRSZXN1bHQiLCJmcmVlVGV4dCIsImJvb3RzdHJhcFZlcnNpb24iLCJwcmV2ZW50RW50ZXIiLCJldmVudHMiLCJ0eXBlZCIsInNlYXJjaFByZSIsInNlYXJjaFBvc3QiLCJzZWxlY3QiLCJfZWwiLCJpcyIsIm1hbmFnZUlubGluZURhdGFBdHRyaWJ1dGVzIiwiZ2V0U2V0dGluZ3MiLCJjb252ZXJ0U2VsZWN0VG9UZXh0IiwiZ2V0Qm9vdHN0cmFwVmVyc2lvbiIsInZlcnNpb25BcnJheSIsImZuIiwiYnV0dG9uIiwiQ29uc3RydWN0b3IiLCJWRVJTSU9OIiwic3BsaXQiLCJtYXAiLCJwYXJzZUludCIsImNvbnNvbGUiLCJlcnJvciIsImhpZEZpZWxkIiwidmFsIiwiX3NlbGVjdEhpZGRlbkZpZWxkIiwic2VhcmNoRmllbGQiLCJyZXF1aXJlZEF0dHJpYnV0ZSIsIk5BTUUiLCJyZXBsYWNlV2l0aCIsImJpbmREZWZhdWx0RXZlbnRMaXN0ZW5lcnMiLCJpc0l0ZW1Gb2N1c2VkIiwibmV3VmFsdWUiLCJoYW5kbGVyVHlwZWQiLCJpc01vdXNlT3ZlciIsImlzRGRNb3VzZU92ZXIiLCJpdGVtU2VsZWN0ZWREZWZhdWx0SGFuZGxlciIsIl9zZWFyY2hUZXh0IiwiaGFuZGxlclByZVNlYXJjaCIsImhhbmRsZXJEb1NlYXJjaCIsInBvc3RTZWFyY2hDYWxsYmFjayIsImhhbmRsZXJTdGFydFNob3ciLCJ0b1N0cmluZyIsIm1hbmFnZUFQSSIsIkFQSUNtZCIsInBhcmFtcyIsImRvY3VtZW50Iiwib3B0aW9uc09yQVBJIiwib3B0aW9uYWxQYXJhbXMiLCJlYWNoIiwicGx1Z2luQ2xhc3MiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0Ys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QixpQkFBVEEsRUFDQSxDQUFFbUMsS0FBTW5DLEdBRVZBLEVBQUttQyxLQUNIbkMsRUFLQSxDQUFFbUMsS0FBTW5DLEVBQUsrSCxhQUc1QnZELEVBQWFySixVQUFVNk0sVUFBWSxTQUFVQyxFQUFRQyxHQUVsQyxRQUFYRCxFQUNBbk0sS0FBSzJMLDJCQUEyQlMsR0FFaEIsVUFBWEQsRUFFTG5NLEtBQUsyTCwyQkFBMkIsTUFFaEIsU0FBWFEsRUFFTG5NLEtBQUtnRCxLQUFLOEMsUUFBUSxTQUVGLG1CQUFYcUcsSUFFTG5NLEtBQUtnSixTQUFXLElBQUk5SSxFQUFha00sS0FHekMxRCxFQUFheUMsS0FBTyxlQUNiekMsRUExWXNCLElBNllqQyxTQUFXckgsRUFBR0csRUFBUTZLLEdBRWxCaEwsRUFBRWdKLEdBQUcsRUFBYWMsTUFBUSxTQUFVbUIsRUFBY0MsR0FDOUMsT0FBT3ZNLEtBQUt3TSxNQUFLLFdBQ2IsSUFBSUMsR0FDSkEsRUFBY3BMLEVBQUVyQixNQUFNbUIsS0FBSyxFQUFhZ0ssU0FFcENzQixFQUFjLElBQUksRUFBYXpNLEtBQU1zTSxHQUNyQ2pMLEVBQUVyQixNQUFNbUIsS0FBSyxFQUFhZ0ssS0FBTXNCLElBRXBDQSxFQUFZUCxVQUFVSSxFQUFjQyxPQVZoRCxDQWFHRyxPQUFRbEwsT0FBUTZLIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgQmFzZVJlc29sdmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhc2VSZXNvbHZlcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX3NldHRpbmdzID0gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuZ2V0RGVmYXVsdHMoKSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIEJhc2VSZXNvbHZlci5wcm90b3R5cGUuZ2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9O1xuICAgIEJhc2VSZXNvbHZlci5wcm90b3R5cGUuZ2V0UmVzdWx0cyA9IGZ1bmN0aW9uIChsaW1pdCwgc3RhcnQsIGVuZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzO1xuICAgIH07XG4gICAgQmFzZVJlc29sdmVyLnByb3RvdHlwZS5zZWFyY2ggPSBmdW5jdGlvbiAocSwgY2JrKSB7XG4gICAgICAgIGNiayh0aGlzLmdldFJlc3VsdHMoKSk7XG4gICAgfTtcbiAgICByZXR1cm4gQmFzZVJlc29sdmVyO1xufSgpKTtcbmV4cG9ydCB7IEJhc2VSZXNvbHZlciB9O1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtY2xhc3Nlcy1wZXItZmlsZVxudmFyIEFqYXhSZXNvbHZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWpheFJlc29sdmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFqYXhSZXNvbHZlcihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygncmVzb2x2ZXIgc2V0dGluZ3MnLCB0aGlzLl9zZXR0aW5ncyk7XG4gICAgfVxuICAgIEFqYXhSZXNvbHZlci5wcm90b3R5cGUuZ2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1cmw6ICcnLFxuICAgICAgICAgICAgbWV0aG9kOiAnZ2V0JyxcbiAgICAgICAgICAgIHF1ZXJ5S2V5OiAncScsXG4gICAgICAgICAgICBleHRyYURhdGE6IHt9LFxuICAgICAgICAgICAgdGltZW91dDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcmVxdWVzdFRocm90dGxpbmc6IDUwMFxuICAgICAgICB9O1xuICAgIH07XG4gICAgQWpheFJlc29sdmVyLnByb3RvdHlwZS5zZWFyY2ggPSBmdW5jdGlvbiAocSwgY2JrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmpxWEhSICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuanFYSFIuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICBkYXRhW3RoaXMuX3NldHRpbmdzLnF1ZXJ5S2V5XSA9IHE7XG4gICAgICAgICQuZXh0ZW5kKGRhdGEsIHRoaXMuX3NldHRpbmdzLmV4dHJhRGF0YSk7XG4gICAgICAgIC8vIHJlcXVlc3QgdGhyb3R0bGluZ1xuICAgICAgICBpZiAodGhpcy5yZXF1ZXN0VElEKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucmVxdWVzdFRJRCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXF1ZXN0VElEID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuanFYSFIgPSAkLmFqYXgoX3RoaXMuX3NldHRpbmdzLnVybCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogX3RoaXMuX3NldHRpbmdzLm1ldGhvZCxcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IF90aGlzLl9zZXR0aW5ncy50aW1lb3V0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLmpxWEhSLmRvbmUoZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGNiayhyZXN1bHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5qcVhIUi5mYWlsKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fc2V0dGluZ3MgJiYgX3RoaXMuX3NldHRpbmdzLmZhaWwgJiYgX3RoaXMuX3NldHRpbmdzLmZhaWwoZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuanFYSFIuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5qcVhIUiA9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgdGhpcy5fc2V0dGluZ3MucmVxdWVzdFRocm90dGxpbmcpO1xuICAgIH07XG4gICAgcmV0dXJuIEFqYXhSZXNvbHZlcjtcbn0oQmFzZVJlc29sdmVyKSk7XG5leHBvcnQgeyBBamF4UmVzb2x2ZXIgfTtcbiIsIi8qXG4gKlx0RHJvcGRvd24gY2xhc3MuIE1hbmFnZXMgdGhlIGRyb3Bkb3duIGRyYXdpbmdcbiAqL1xudmFyIERyb3Bkb3duVjMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRHJvcGRvd25WMyhlLCBmb3JtYXRJdGVtQ2JrLCBhdXRvU2VsZWN0LCBub1Jlc3VsdHNUZXh0KSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zaG93biA9IGZhbHNlO1xuICAgICAgICB0aGlzLml0ZW1zID0gW107XG4gICAgICAgIHRoaXMuZGRNb3VzZW92ZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fJGVsID0gZTtcbiAgICAgICAgdGhpcy5mb3JtYXRJdGVtID0gZm9ybWF0SXRlbUNiaztcbiAgICAgICAgdGhpcy5hdXRvU2VsZWN0ID0gYXV0b1NlbGVjdDtcbiAgICAgICAgdGhpcy5ub1Jlc3VsdHNUZXh0ID0gbm9SZXN1bHRzVGV4dDtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBpdCBpbiBsYXp5IG1vZGUgdG8gZGVhbCB3aXRoIGdsaXRjaGVzIGxpa2UgbW9kYWxzXG4gICAgICAgIC8vIHRoaXMuaW5pdCgpO1xuICAgIH1cbiAgICBEcm9wZG93blYzLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBJbml0aWFsaXplIGRyb3Bkb3duXG4gICAgICAgIHZhciBwb3MgPSAkLmV4dGVuZCh7fSwgdGhpcy5fJGVsLnBvc2l0aW9uKCksIHtcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5fJGVsWzBdLm9mZnNldEhlaWdodFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gY3JlYXRlIGVsZW1lbnRcbiAgICAgICAgdGhpcy5fZGQgPSAkKCc8dWwgLz4nKTtcbiAgICAgICAgLy8gYWRkIG91ciBjbGFzcyBhbmQgYmFzaWMgZHJvcGRvd24tbWVudSBjbGFzc1xuICAgICAgICB0aGlzLl9kZC5hZGRDbGFzcygnYm9vdHN0cmFwLWF1dG9jb21wbGV0ZSBkcm9wZG93bi1tZW51Jyk7XG4gICAgICAgIHRoaXMuX2RkLmluc2VydEFmdGVyKHRoaXMuXyRlbCk7XG4gICAgICAgIHRoaXMuX2RkLmNzcyh7IHRvcDogcG9zLnRvcCArIHRoaXMuXyRlbC5vdXRlckhlaWdodCgpLCBsZWZ0OiBwb3MubGVmdCwgd2lkdGg6IHRoaXMuXyRlbC5vdXRlcldpZHRoKCkgfSk7XG4gICAgICAgIC8vIGNsaWNrIGV2ZW50IG9uIGl0ZW1zXG4gICAgICAgIHRoaXMuX2RkLm9uKCdjbGljaycsICdsaScsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjbGlja2VkJywgZXZ0LmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJChldnQuY3VycmVudFRhcmdldCkpO1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSAkKGV2dC5jdXJyZW50VGFyZ2V0KS5kYXRhKCdpdGVtJyk7XG4gICAgICAgICAgICBfdGhpcy5pdGVtU2VsZWN0ZWRMYXVuY2hFdmVudChpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2RkLm9uKCdrZXl1cCcsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5zaG93bikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZXZ0LndoaWNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFU0NcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl8kZWwuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9kZC5vbignbW91c2VlbnRlcicsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIF90aGlzLmRkTW91c2VvdmVyID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2RkLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgX3RoaXMuZGRNb3VzZW92ZXIgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2RkLm9uKCdtb3VzZWVudGVyJywgJ2xpJywgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmhhdmVSZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgJChldnQuY3VycmVudFRhcmdldCkuY2xvc2VzdCgndWwnKS5maW5kKCdsaS5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgJChldnQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIF90aGlzLm1vdXNlb3ZlciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9kZC5vbignbW91c2VsZWF2ZScsICdsaScsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIF90aGlzLm1vdXNlb3ZlciA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgfTtcbiAgICBEcm9wZG93blYzLnByb3RvdHlwZS5vbkl0ZW1TZWxlY3RlZCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIC8vIG5vdCBzdXBwb3J0ZWQgaW4gVjNcbiAgICB9O1xuICAgIERyb3Bkb3duVjMucHJvdG90eXBlLnNldExvYWRpbmcgPSBmdW5jdGlvbiAobG9hZGluZykge1xuICAgICAgICAvLyBub3Qgc3VwcG9ydGVkIGluIFYzXG4gICAgfTtcbiAgICBEcm9wZG93blYzLnByb3RvdHlwZS5jaGVja0luaXRpYWxpemVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBMYXp5IGluaXRcbiAgICAgICAgaWYgKCF0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICAvLyBpZiBub3QgYWxyZWFkeSBpbml0aWFsaXplZFxuICAgICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEcm9wZG93blYzLnByb3RvdHlwZSwgXCJpc01vdXNlT3ZlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW91c2VvdmVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERyb3Bkb3duVjMucHJvdG90eXBlLCBcImlzRGRNb3VzZU92ZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRkTW91c2VvdmVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERyb3Bkb3duVjMucHJvdG90eXBlLCBcImhhdmVSZXN1bHRzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuaXRlbXMubGVuZ3RoID4gMCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBEcm9wZG93blYzLnByb3RvdHlwZS5mb2N1c05leHRJdGVtID0gZnVuY3Rpb24gKHJldmVyc2VkKSB7XG4gICAgICAgIGlmICh0aGlzLmhhdmVSZXN1bHRzKSB7XG4gICAgICAgICAgICAvLyBnZXQgc2VsZWN0ZWRcbiAgICAgICAgICAgIHZhciBjdXJyRWxlbSA9IHRoaXMuX2RkLmZpbmQoJ2xpLmFjdGl2ZScpO1xuICAgICAgICAgICAgdmFyIG5leHRFbGVtID0gcmV2ZXJzZWQgPyBjdXJyRWxlbS5wcmV2KCkgOiBjdXJyRWxlbS5uZXh0KCk7XG4gICAgICAgICAgICBpZiAobmV4dEVsZW0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gZmlyc3RcbiAgICAgICAgICAgICAgICBuZXh0RWxlbSA9IHJldmVyc2VkID8gdGhpcy5fZGQuZmluZCgnbGknKS5sYXN0KCkgOiB0aGlzLl9kZC5maW5kKCdsaScpLmZpcnN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyRWxlbS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICBuZXh0RWxlbS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERyb3Bkb3duVjMucHJvdG90eXBlLmZvY3VzUHJldmlvdXNJdGVtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZvY3VzTmV4dEl0ZW0odHJ1ZSk7XG4gICAgfTtcbiAgICBEcm9wZG93blYzLnByb3RvdHlwZS5zZWxlY3RGb2N1c0l0ZW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2RkLmZpbmQoJ2xpLmFjdGl2ZScpLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRHJvcGRvd25WMy5wcm90b3R5cGUsIFwiaXNJdGVtRm9jdXNlZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNTaG93bigpICYmICh0aGlzLl9kZC5maW5kKCdsaS5hY3RpdmUnKS5sZW5ndGggPiAwKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgRHJvcGRvd25WMy5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNob3duKSB7XG4gICAgICAgICAgICB0aGlzLl9kZC5hZGRDbGFzcygnc2hvdycpO1xuICAgICAgICAgICAgdGhpcy5zaG93biA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERyb3Bkb3duVjMucHJvdG90eXBlLmlzU2hvd24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNob3duO1xuICAgIH07XG4gICAgRHJvcGRvd25WMy5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2hvd24pIHtcbiAgICAgICAgICAgIHRoaXMuX2RkLnJlbW92ZUNsYXNzKCdzaG93Jyk7XG4gICAgICAgICAgICB0aGlzLnNob3duID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERyb3Bkb3duVjMucHJvdG90eXBlLnVwZGF0ZUl0ZW1zID0gZnVuY3Rpb24gKGl0ZW1zLCBzZWFyY2hUZXh0KSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd1cGRhdGVJdGVtcycsIGl0ZW1zKTtcbiAgICAgICAgdGhpcy5pdGVtcyA9IGl0ZW1zO1xuICAgICAgICB0aGlzLnNlYXJjaFRleHQgPSBzZWFyY2hUZXh0O1xuICAgICAgICB0aGlzLnJlZnJlc2hJdGVtTGlzdCgpO1xuICAgIH07XG4gICAgRHJvcGRvd25WMy5wcm90b3R5cGUuc2hvd01hdGNoZWRUZXh0ID0gZnVuY3Rpb24gKHRleHQsIHFyeSkge1xuICAgICAgICB2YXIgc3RhcnRJbmRleCA9IHRleHQudG9Mb3dlckNhc2UoKS5pbmRleE9mKHFyeS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgaWYgKHN0YXJ0SW5kZXggPiAtMSkge1xuICAgICAgICAgICAgdmFyIGVuZEluZGV4ID0gc3RhcnRJbmRleCArIHFyeS5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gdGV4dC5zbGljZSgwLCBzdGFydEluZGV4KSArICc8Yj4nXG4gICAgICAgICAgICAgICAgKyB0ZXh0LnNsaWNlKHN0YXJ0SW5kZXgsIGVuZEluZGV4KSArICc8L2I+J1xuICAgICAgICAgICAgICAgICsgdGV4dC5zbGljZShlbmRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfTtcbiAgICBEcm9wZG93blYzLnByb3RvdHlwZS5yZWZyZXNoSXRlbUxpc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuY2hlY2tJbml0aWFsaXplZCgpO1xuICAgICAgICB0aGlzLl9kZC5lbXB0eSgpO1xuICAgICAgICB2YXIgbGlMaXN0ID0gW107XG4gICAgICAgIGlmICh0aGlzLml0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtRm9ybWF0dGVkID0gX3RoaXMuZm9ybWF0SXRlbShpdGVtKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW1Gb3JtYXR0ZWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1Gb3JtYXR0ZWQgPSB7IHRleHQ6IGl0ZW1Gb3JtYXR0ZWQgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1UZXh0O1xuICAgICAgICAgICAgICAgIHZhciBpdGVtSHRtbDtcbiAgICAgICAgICAgICAgICBpdGVtVGV4dCA9IF90aGlzLnNob3dNYXRjaGVkVGV4dChpdGVtRm9ybWF0dGVkLnRleHQsIF90aGlzLnNlYXJjaFRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtRm9ybWF0dGVkLmh0bWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtSHRtbCA9IGl0ZW1Gb3JtYXR0ZWQuaHRtbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1IdG1sID0gaXRlbVRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBkaXNhYmxlZEl0ZW0gPSBpdGVtRm9ybWF0dGVkLmRpc2FibGVkO1xuICAgICAgICAgICAgICAgIHZhciBsaSA9ICQoJzxsaSA+Jyk7XG4gICAgICAgICAgICAgICAgbGkuYXBwZW5kKCQoJzxhPicpLmF0dHIoJ2hyZWYnLCAnIyEnKS5odG1sKGl0ZW1IdG1sKSlcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEoJ2l0ZW0nLCBpdGVtKTtcbiAgICAgICAgICAgICAgICBpZiAoZGlzYWJsZWRJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaUxpc3QucHVzaChsaSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5vIHJlc3VsdHNcbiAgICAgICAgICAgIHZhciBsaSA9ICQoJzxsaSA+Jyk7XG4gICAgICAgICAgICBsaS5hcHBlbmQoJCgnPGE+JykuYXR0cignaHJlZicsICcjIScpLmh0bWwodGhpcy5ub1Jlc3VsdHNUZXh0KSlcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICBsaUxpc3QucHVzaChsaSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGQuYXBwZW5kKGxpTGlzdCk7XG4gICAgICAgIHRoaXMuc2hvdygpO1xuICAgIH07XG4gICAgRHJvcGRvd25WMy5wcm90b3R5cGUuaXRlbVNlbGVjdGVkTGF1bmNoRXZlbnQgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAvLyBsYXVuY2ggc2VsZWN0ZWQgZXZlbnRcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2l0ZW1TZWxlY3RlZExhdW5jaEV2ZW50JywgaXRlbSk7XG4gICAgICAgIHRoaXMuXyRlbC50cmlnZ2VyKCdhdXRvY29tcGxldGUuc2VsZWN0JywgaXRlbSk7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIERyb3Bkb3duVjM7XG59KCkpO1xuZXhwb3J0IHsgRHJvcGRvd25WMyB9O1xuIiwiLypcbiAqXHREcm9wZG93biBjbGFzcy4gTWFuYWdlcyB0aGUgZHJvcGRvd24gZHJhd2luZ1xuICovXG52YXIgRHJvcGRvd25WNCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEcm9wZG93blY0KGUsIGZvcm1hdEl0ZW1DYmssIGF1dG9TZWxlY3QsIGZvcm1hdEZyZWVWYWx1ZSwgaW5kaWNhdG9ycykge1xuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2hvd24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLmRkTW91c2VvdmVyID0gZmFsc2U7XG4gICAgICAgIHRoaXMuXyRlbCA9IGU7XG4gICAgICAgIHRoaXMuZm9ybWF0SXRlbSA9IGZvcm1hdEl0ZW1DYms7XG4gICAgICAgIHRoaXMuZm9ybWF0RnJlZVZhbHVlID0gZm9ybWF0RnJlZVZhbHVlO1xuICAgICAgICB0aGlzLmF1dG9TZWxlY3QgPSBhdXRvU2VsZWN0O1xuICAgICAgICB0aGlzLmluZGljYXRvcnMgPSBpbmRpY2F0b3JzO1xuICAgICAgICAvLyB3cmFwIGludG8gZGl2IGZvciBpbmRpY2F0b3JcbiAgICAgICAgdGhpcy5fJHdyYXAgPSB0aGlzLl8kZWwud3JhcCgnPGRpdiBjbGFzcz1cImluZGljYXRvci13cmFwXCIgc3R5bGU9XCJwb3NpdGlvbjogcmVsYXRpdmU7XCIvPicpLnBhcmVudCgpO1xuICAgICAgICAvLyBpbml0aWFsaXplIGl0IGluIGxhenkgbW9kZSB0byBkZWFsIHdpdGggZ2xpdGNoZXMgbGlrZSBtb2RhbHNcbiAgICAgICAgLy8gdGhpcy5pbml0KCk7XG4gICAgfVxuICAgIERyb3Bkb3duVjQucHJvdG90eXBlLmdldEVsUG9zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcG9zID0gJC5leHRlbmQoe30sIHRoaXMuXyRlbC5wYXJlbnRzKCcuaW5kaWNhdG9yLXdyYXAnKS5wb3NpdGlvbigpLCB7XG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuXyRlbFswXS5vZmZzZXRIZWlnaHRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgfTtcbiAgICBEcm9wZG93blY0LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBJbml0aWFsaXplIGRyb3Bkb3duXG4gICAgICAgIHZhciBwb3MgPSB0aGlzLmdldEVsUG9zKCk7XG4gICAgICAgIC8vIGNyZWF0ZSBlbGVtZW50XG4gICAgICAgIHRoaXMuX2RkID0gJCgnPGRpdiAvPicpO1xuICAgICAgICAvLyBhZGQgb3VyIGNsYXNzIGFuZCBiYXNpYyBkcm9wZG93bi1tZW51IGNsYXNzXG4gICAgICAgIHRoaXMuX2RkLmFkZENsYXNzKCdib290c3RyYXAtYXV0b2NvbXBsZXRlIGRyb3Bkb3duLW1lbnUnKTtcbiAgICAgICAgdGhpcy5fZGQuaW5zZXJ0QWZ0ZXIodGhpcy5fJGVsLnBhcmVudHMoJy5pbmRpY2F0b3Itd3JhcCcpKTtcbiAgICAgICAgdGhpcy5fZGQuY3NzKHsgdG9wOiBwb3MudG9wICsgdGhpcy5fJGVsLm91dGVySGVpZ2h0KCksIGxlZnQ6IHBvcy5sZWZ0LCB3aWR0aDogdGhpcy5fJGVsLm91dGVyV2lkdGgoKSB9KTtcbiAgICAgICAgLy8gY2xpY2sgZXZlbnQgb24gaXRlbXNcbiAgICAgICAgdGhpcy5fZGQub24oJ2NsaWNrJywgJy5kcm9wZG93bi1pdGVtJywgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2NsaWNrZWQnLCBldnQuY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygkKGV2dC5jdXJyZW50VGFyZ2V0KSk7XG4gICAgICAgICAgICB2YXIgaXRlbSA9ICQoZXZ0LmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2l0ZW0nKTtcbiAgICAgICAgICAgIF90aGlzLml0ZW1TZWxlY3RlZExhdW5jaEV2ZW50KGl0ZW0pO1xuICAgICAgICAgICAgLy8gc3RvcCBkZWZhdWx0IGV2ZW50IG9uIG1vdXNlIGNsaWNrLlxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9kZC5vbigna2V5dXAnLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuc2hvd24pIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGV2dC53aGljaCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRVNDXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fJGVsLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZGQub24oJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBfdGhpcy5kZE1vdXNlb3ZlciA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9kZC5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIF90aGlzLmRkTW91c2VvdmVyID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9kZC5vbignbW91c2VlbnRlcicsICcuZHJvcGRvd24taXRlbScsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5oYXZlUmVzdWx0cykge1xuICAgICAgICAgICAgICAgICQoZXZ0LmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoJ2RpdicpLmZpbmQoJy5kcm9wZG93bi1pdGVtLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAkKGV2dC5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgX3RoaXMubW91c2VvdmVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2RkLm9uKCdtb3VzZWxlYXZlJywgJy5kcm9wZG93bi1pdGVtJywgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgX3RoaXMubW91c2VvdmVyID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIERyb3Bkb3duVjQucHJvdG90eXBlLnNldEluZGljYXRvciA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgIHZhciAkaW5kaWNhdG9yID0gdGhpcy5fJHdyYXAuZmluZCgnLmZvcm0tY29udHJvbC1mZWVkYmFjaycpO1xuICAgICAgICBpZiAoJGluZGljYXRvci5sZW5ndGggPCAxICYmIGNvbnRlbnQpIHtcbiAgICAgICAgICAgICQoJzxzcGFuIGNsYXNzPVwiZm9ybS1jb250cm9sLWZlZWRiYWNrXCI+JyArIGNvbnRlbnQgKyAnPC9zcGFuPicpLmFwcGVuZFRvKHRoaXMuXyR3cmFwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICRpbmRpY2F0b3IuaHRtbChjb250ZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRHJvcGRvd25WNC5wcm90b3R5cGUub25JdGVtU2VsZWN0ZWQgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB0aGlzLnNldEluZGljYXRvcih0aGlzLmluZGljYXRvcnMuc2VsZWN0ZWQpO1xuICAgIH07XG4gICAgRHJvcGRvd25WNC5wcm90b3R5cGUuc2V0TG9hZGluZyA9IGZ1bmN0aW9uIChsb2FkaW5nKSB7XG4gICAgICAgIHRoaXMuc2V0SW5kaWNhdG9yKChsb2FkaW5nKSA/IHRoaXMuaW5kaWNhdG9ycy5sb2FkaW5nIDogdGhpcy5pbmRpY2F0b3JzLmVtcHR5KTtcbiAgICB9O1xuICAgIERyb3Bkb3duVjQucHJvdG90eXBlLmNoZWNrSW5pdGlhbGl6ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIExhenkgaW5pdFxuICAgICAgICBpZiAoIXRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIC8vIGlmIG5vdCBhbHJlYWR5IGluaXRpYWxpemVkXG4gICAgICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERyb3Bkb3duVjQucHJvdG90eXBlLCBcImlzTW91c2VPdmVyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb3VzZW92ZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRHJvcGRvd25WNC5wcm90b3R5cGUsIFwiaXNEZE1vdXNlT3ZlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGRNb3VzZW92ZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRHJvcGRvd25WNC5wcm90b3R5cGUsIFwiaGF2ZVJlc3VsdHNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5pdGVtcy5sZW5ndGggPiAwKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIERyb3Bkb3duVjQucHJvdG90eXBlLmZvY3VzTmV4dEl0ZW0gPSBmdW5jdGlvbiAocmV2ZXJzZWQpIHtcbiAgICAgICAgaWYgKHRoaXMuaGF2ZVJlc3VsdHMpIHtcbiAgICAgICAgICAgIC8vIGdldCBzZWxlY3RlZFxuICAgICAgICAgICAgdmFyIGN1cnJFbGVtID0gdGhpcy5fZGQuZmluZCgnLmRyb3Bkb3duLWl0ZW0uYWN0aXZlJyk7XG4gICAgICAgICAgICB2YXIgbmV4dEVsZW0gPSByZXZlcnNlZCA/IGN1cnJFbGVtLnByZXYoKSA6IGN1cnJFbGVtLm5leHQoKTtcbiAgICAgICAgICAgIGlmIChuZXh0RWxlbS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBmaXJzdFxuICAgICAgICAgICAgICAgIG5leHRFbGVtID0gcmV2ZXJzZWQgPyB0aGlzLl9kZC5maW5kKCcuZHJvcGRvd24taXRlbScpLmxhc3QoKSA6IHRoaXMuX2RkLmZpbmQoJy5kcm9wZG93bi1pdGVtJykuZmlyc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJFbGVtLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIG5leHRFbGVtLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRHJvcGRvd25WNC5wcm90b3R5cGUuZm9jdXNQcmV2aW91c0l0ZW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZm9jdXNOZXh0SXRlbSh0cnVlKTtcbiAgICB9O1xuICAgIERyb3Bkb3duVjQucHJvdG90eXBlLnNlbGVjdEZvY3VzSXRlbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fZGQuZmluZCgnLmRyb3Bkb3duLWl0ZW0uYWN0aXZlJykudHJpZ2dlcignY2xpY2snKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEcm9wZG93blY0LnByb3RvdHlwZSwgXCJpc0l0ZW1Gb2N1c2VkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGQgJiYgdGhpcy5pc1Nob3duKCkgJiYgKHRoaXMuX2RkLmZpbmQoJy5kcm9wZG93bi1pdGVtLmFjdGl2ZScpLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBEcm9wZG93blY0LnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuc2hvd24pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0SW5kaWNhdG9yKHRoaXMuaW5kaWNhdG9ycy5lbXB0eSk7XG4gICAgICAgICAgICB0aGlzLl8kZWwudHJpZ2dlcignYXV0b2NvbXBsZXRlLmRkLnNob3dpbmcnKTtcbiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLmdldEVsUG9zKCk7XG4gICAgICAgICAgICB0aGlzLl9kZC5jc3MoeyB0b3A6IHBvcy50b3AgKyB0aGlzLl8kZWwub3V0ZXJIZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBsZWZ0OiBwb3MubGVmdCxcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5fJGVsLm91dGVyV2lkdGgoKSxcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICBtYXhIZWlnaHQ6ICdjYWxjKDEwMHZoIC0gJyArICh0aGlzLl8kZWwub2Zmc2V0KCkudG9wICsgNTApICsgJ3B4KScgfSk7XG4gICAgICAgICAgICB0aGlzLl9kZC5hZGRDbGFzcygnc2hvdycpO1xuICAgICAgICAgICAgdGhpcy5zaG93biA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl8kZWwudHJpZ2dlcignYXV0b2NvbXBsZXRlLmRkLnNob3duJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERyb3Bkb3duVjQucHJvdG90eXBlLmlzU2hvd24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNob3duO1xuICAgIH07XG4gICAgRHJvcGRvd25WNC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2hvd24pIHtcbiAgICAgICAgICAgIHRoaXMuX2RkLnJlbW92ZUNsYXNzKCdzaG93Jyk7XG4gICAgICAgICAgICB0aGlzLnNob3duID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl8kZWwudHJpZ2dlcignYXV0b2NvbXBsZXRlLmRkLmhpZGRlbicpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEcm9wZG93blY0LnByb3RvdHlwZS51cGRhdGVJdGVtcyA9IGZ1bmN0aW9uIChpdGVtcywgc2VhcmNoVGV4dCkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygndXBkYXRlSXRlbXMnLCBpdGVtcyk7XG4gICAgICAgIHRoaXMuaXRlbXMgPSBpdGVtcztcbiAgICAgICAgdGhpcy5zZWFyY2hUZXh0ID0gc2VhcmNoVGV4dDtcbiAgICAgICAgdGhpcy5yZWZyZXNoSXRlbUxpc3QoKTtcbiAgICB9O1xuICAgIERyb3Bkb3duVjQucHJvdG90eXBlLnNob3dNYXRjaGVkVGV4dCA9IGZ1bmN0aW9uICh0ZXh0LCBxcnkpIHtcbiAgICAgICAgdmFyIHN0YXJ0SW5kZXggPSB0ZXh0LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihxcnkudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIGlmIChzdGFydEluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHZhciBlbmRJbmRleCA9IHN0YXJ0SW5kZXggKyBxcnkubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIHRleHQuc2xpY2UoMCwgc3RhcnRJbmRleCkgKyAnPGI+J1xuICAgICAgICAgICAgICAgICsgdGV4dC5zbGljZShzdGFydEluZGV4LCBlbmRJbmRleCkgKyAnPC9iPidcbiAgICAgICAgICAgICAgICArIHRleHQuc2xpY2UoZW5kSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH07XG4gICAgRHJvcGRvd25WNC5wcm90b3R5cGUucmVmcmVzaEl0ZW1MaXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmNoZWNrSW5pdGlhbGl6ZWQoKTtcbiAgICAgICAgdGhpcy5fZGQuZW1wdHkoKTtcbiAgICAgICAgdmFyIGxpTGlzdCA9IFtdO1xuICAgICAgICBpZiAodGhpcy5pdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbUZvcm1hdHRlZCA9IF90aGlzLmZvcm1hdEl0ZW0oaXRlbSk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpdGVtRm9ybWF0dGVkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBpdGVtRm9ybWF0dGVkID0geyB0ZXh0OiBpdGVtRm9ybWF0dGVkIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBpdGVtVGV4dDtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbUh0bWw7XG4gICAgICAgICAgICAgICAgaXRlbVRleHQgPSBfdGhpcy5zaG93TWF0Y2hlZFRleHQoaXRlbUZvcm1hdHRlZC50ZXh0LCBfdGhpcy5zZWFyY2hUZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbUZvcm1hdHRlZC5odG1sICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbUh0bWwgPSBpdGVtRm9ybWF0dGVkLmh0bWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpdGVtSHRtbCA9IGl0ZW1UZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZGlzYWJsZWRJdGVtID0gaXRlbUZvcm1hdHRlZC5kaXNhYmxlZDtcbiAgICAgICAgICAgICAgICB2YXIgbGkgPSAkKCc8YSA+Jyk7XG4gICAgICAgICAgICAgICAgbGkuYWRkQ2xhc3MoJ2Ryb3Bkb3duLWl0ZW0nKVxuICAgICAgICAgICAgICAgICAgICAuY3NzKHsgJ292ZXJmbG93JzogJ2hpZGRlbicsICd0ZXh0LW92ZXJmbG93JzogJ2VsbGlwc2lzJyB9KVxuICAgICAgICAgICAgICAgICAgICAuaHRtbChpdGVtSHRtbClcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEoJ2l0ZW0nLCBpdGVtKTtcbiAgICAgICAgICAgICAgICBpZiAoZGlzYWJsZWRJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaUxpc3QucHVzaChsaSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX2RkLmFwcGVuZChsaUxpc3QpO1xuICAgICAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgbGkgPSAkKCc8YSA+Jyk7XG4gICAgICAgICAgICBsaS5hZGRDbGFzcygnZHJvcGRvd24taXRlbScpXG4gICAgICAgICAgICAgICAgLmh0bWwodGhpcy5mb3JtYXRGcmVlVmFsdWUodGhpcy5zZWFyY2hUZXh0KSk7XG4gICAgICAgICAgICBsaUxpc3QucHVzaChsaSk7XG4gICAgICAgICAgICB0aGlzLl9kZC5hcHBlbmQobGlMaXN0KTtcbiAgICAgICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEcm9wZG93blY0LnByb3RvdHlwZS5pdGVtU2VsZWN0ZWRMYXVuY2hFdmVudCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIC8vIGxhdW5jaCBzZWxlY3RlZCBldmVudFxuICAgICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgICAgIHRoaXMuXyRlbC50cmlnZ2VyKCdhdXRvY29tcGxldGUuZnJlZXZhbHVlJywgdGhpcy5zZWFyY2hUZXh0KTtcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fJGVsLnRyaWdnZXIoJ2F1dG9jb21wbGV0ZS5zZWxlY3QnLCBpdGVtKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERyb3Bkb3duVjQ7XG59KCkpO1xuZXhwb3J0IHsgRHJvcGRvd25WNCB9O1xuIiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogYm9vdHN0cmFwLWF1dG9jb21wbGV0ZS5qcyB2Mi4zLjRcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS94Y2FzaC9ib290c3RyYXAtYXV0b2NvbXBsZXRlXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBGb3JrZWQgZnJvbSBib290c3RyYXAzLXR5cGVhaGVhZC5qcyB2My4xLjBcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9iYXNzam9ic2VuL0Jvb3RzdHJhcC0zLVR5cGVhaGVhZFxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogT3JpZ2luYWwgd3JpdHRlbiBieSBAbWRvIGFuZCBAZmF0XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxOC0yMDIwIFBhb2xvIENhc2NpZWxsbyBAeGNhc2g2NjYgYW5kIGNvbnRyaWJ1dG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbmltcG9ydCB7IEFqYXhSZXNvbHZlciB9IGZyb20gJy4vcmVzb2x2ZXJzJztcbmltcG9ydCB7IERyb3Bkb3duVjMgfSBmcm9tICcuL2Ryb3Bkb3duVjMnO1xuaW1wb3J0IHsgRHJvcGRvd25WNCB9IGZyb20gJy4vZHJvcGRvd25WNCc7XG52YXIgQXV0b0NvbXBsZXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEF1dG9Db21wbGV0ZShlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX3NlbGVjdGVkSXRlbSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRWYWx1ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRUZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faXNTZWxlY3RFbGVtZW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3NldHRpbmdzID0ge1xuICAgICAgICAgICAgcmVzb2x2ZXI6ICdhamF4JyxcbiAgICAgICAgICAgIHJlc29sdmVyU2V0dGluZ3M6IHt9LFxuICAgICAgICAgICAgbWluTGVuZ3RoOiAzLFxuICAgICAgICAgICAgdmFsdWVLZXk6ICd2YWx1ZScsXG4gICAgICAgICAgICBmb3JtYXRSZXN1bHQ6IHRoaXMuZGVmYXVsdEZvcm1hdFJlc3VsdCxcbiAgICAgICAgICAgIGZvcm1hdEZyZWVWYWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfSxcbiAgICAgICAgICAgIGF1dG9TZWxlY3Q6IHRydWUsXG4gICAgICAgICAgICBub1Jlc3VsdHNUZXh0OiAnTm8gcmVzdWx0cycsXG4gICAgICAgICAgICBpbmRpY2F0b3JzOiB7IGxvYWRpbmc6ICcnLCBzZWxlY3RlZDogJycsIGZyZWVUZXh0OiAnJywgZW1wdHk6ICcnIH0sXG4gICAgICAgICAgICBib290c3RyYXBWZXJzaW9uOiAnYXV0bycsXG4gICAgICAgICAgICBwcmV2ZW50RW50ZXI6IGZhbHNlLFxuICAgICAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgICAgICAgdHlwZWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgc2VhcmNoUHJlOiBudWxsLFxuICAgICAgICAgICAgICAgIHNlYXJjaDogbnVsbCxcbiAgICAgICAgICAgICAgICBzZWFyY2hQb3N0OiBudWxsLFxuICAgICAgICAgICAgICAgIHNlbGVjdDogbnVsbCxcbiAgICAgICAgICAgICAgICBmb2N1czogbnVsbCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fZWwgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLl8kZWwgPSAkKHRoaXMuX2VsKTtcbiAgICAgICAgLy8gZWxlbWVudCB0eXBlXG4gICAgICAgIGlmICh0aGlzLl8kZWwuaXMoJ3NlbGVjdCcpKSB7XG4gICAgICAgICAgICB0aGlzLl9pc1NlbGVjdEVsZW1lbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlubGluZSBkYXRhIGF0dHJpYnV0ZXNcbiAgICAgICAgdGhpcy5tYW5hZ2VJbmxpbmVEYXRhQXR0cmlidXRlcygpO1xuICAgICAgICAvLyBjb25zdHJ1Y3RvciBvcHRpb25zXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldHRpbmdzID0gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuZ2V0U2V0dGluZ3MoKSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2lzU2VsZWN0RWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5jb252ZXJ0U2VsZWN0VG9UZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2luaXRpYWxpemluZycsIHRoaXMuX3NldHRpbmdzKTtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICAgIEF1dG9Db21wbGV0ZS5wcm90b3R5cGUubWFuYWdlSW5saW5lRGF0YUF0dHJpYnV0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHVwZGF0ZXMgc2V0dGluZ3Mgd2l0aCBkYXRhLSogYXR0cmlidXRlc1xuICAgICAgICB2YXIgcyA9IHRoaXMuZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgaWYgKHRoaXMuXyRlbC5kYXRhKCd1cmwnKSkge1xuICAgICAgICAgICAgcy5yZXNvbHZlclNldHRpbmdzLnVybCA9IHRoaXMuXyRlbC5kYXRhKCd1cmwnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fJGVsLmRhdGEoJ2RlZmF1bHQtdmFsdWUnKSkge1xuICAgICAgICAgICAgdGhpcy5fZGVmYXVsdFZhbHVlID0gdGhpcy5fJGVsLmRhdGEoJ2RlZmF1bHQtdmFsdWUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fJGVsLmRhdGEoJ2RlZmF1bHQtdGV4dCcpKSB7XG4gICAgICAgICAgICB0aGlzLl9kZWZhdWx0VGV4dCA9IHRoaXMuXyRlbC5kYXRhKCdkZWZhdWx0LXRleHQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fJGVsLmRhdGEoJ25vcmVzdWx0cy10ZXh0JykgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcy5ub1Jlc3VsdHNUZXh0ID0gdGhpcy5fJGVsLmRhdGEoJ25vcmVzdWx0cy10ZXh0Jyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEF1dG9Db21wbGV0ZS5wcm90b3R5cGUuZ2V0U2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncztcbiAgICB9O1xuICAgIEF1dG9Db21wbGV0ZS5wcm90b3R5cGUuZ2V0Qm9vdHN0cmFwVmVyc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZlcnNpb25BcnJheTtcbiAgICAgICAgaWYgKHRoaXMuX3NldHRpbmdzLmJvb3RzdHJhcFZlcnNpb24gPT09ICdhdXRvJykge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdmFyIHZlcnNpb25TdHJpbmcgPSAkLmZuLmJ1dHRvbi5Db25zdHJ1Y3Rvci5WRVJTSU9OO1xuICAgICAgICAgICAgdmVyc2lvbkFycmF5ID0gdmVyc2lvblN0cmluZy5zcGxpdCgnLicpLm1hcChwYXJzZUludCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fc2V0dGluZ3MuYm9vdHN0cmFwVmVyc2lvbiA9PT0gJzQnKSB7XG4gICAgICAgICAgICB2ZXJzaW9uQXJyYXkgPSBbNF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fc2V0dGluZ3MuYm9vdHN0cmFwVmVyc2lvbiA9PT0gJzMnKSB7XG4gICAgICAgICAgICB2ZXJzaW9uQXJyYXkgPSBbM107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJJTlZBTElEIHZhbHVlIGZvciAnYm9vdHN0cmFwVmVyc2lvbicgc2V0dGluZ3MgcHJvcGVydHk6IFwiICsgdGhpcy5fc2V0dGluZ3MuYm9vdHN0cmFwVmVyc2lvbiArIFwiIGRlZmF1bHRpbmcgdG8gNFwiKTtcbiAgICAgICAgICAgIHZlcnNpb25BcnJheSA9IFs0XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmVyc2lvbkFycmF5O1xuICAgIH07XG4gICAgQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5jb252ZXJ0U2VsZWN0VG9UZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBjcmVhdGUgaGlkZGVuIGZpZWxkXG4gICAgICAgIHZhciBoaWRGaWVsZCA9ICQoJzxpbnB1dD4nKTtcbiAgICAgICAgaGlkRmllbGQuYXR0cigndHlwZScsICdoaWRkZW4nKTtcbiAgICAgICAgaGlkRmllbGQuYXR0cignbmFtZScsIHRoaXMuXyRlbC5hdHRyKCduYW1lJykpO1xuICAgICAgICBpZiAodGhpcy5fZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgICAgICBoaWRGaWVsZC52YWwodGhpcy5fZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZWxlY3RIaWRkZW5GaWVsZCA9IGhpZEZpZWxkO1xuICAgICAgICBoaWRGaWVsZC5pbnNlcnRBZnRlcih0aGlzLl8kZWwpO1xuICAgICAgICAvLyBjcmVhdGUgc2VhcmNoIGlucHV0IGVsZW1lbnRcbiAgICAgICAgdmFyIHNlYXJjaEZpZWxkID0gJCgnPGlucHV0PicpO1xuICAgICAgICAvLyBjb3B5IGFsbCBhdHRyaWJ1dGVzXG4gICAgICAgIHNlYXJjaEZpZWxkLmF0dHIoJ3R5cGUnLCAnc2VhcmNoJyk7XG4gICAgICAgIHNlYXJjaEZpZWxkLmF0dHIoJ25hbWUnLCB0aGlzLl8kZWwuYXR0cignbmFtZScpICsgJ190ZXh0Jyk7XG4gICAgICAgIHNlYXJjaEZpZWxkLmF0dHIoJ2lkJywgdGhpcy5fJGVsLmF0dHIoJ2lkJykpO1xuICAgICAgICBzZWFyY2hGaWVsZC5hdHRyKCdkaXNhYmxlZCcsIHRoaXMuXyRlbC5hdHRyKCdkaXNhYmxlZCcpKTtcbiAgICAgICAgc2VhcmNoRmllbGQuYXR0cigncGxhY2Vob2xkZXInLCB0aGlzLl8kZWwuYXR0cigncGxhY2Vob2xkZXInKSk7XG4gICAgICAgIHNlYXJjaEZpZWxkLmF0dHIoJ2F1dG9jb21wbGV0ZScsICdvZmYnKTtcbiAgICAgICAgc2VhcmNoRmllbGQuYWRkQ2xhc3ModGhpcy5fJGVsLmF0dHIoJ2NsYXNzJykpO1xuICAgICAgICBpZiAodGhpcy5fZGVmYXVsdFRleHQpIHtcbiAgICAgICAgICAgIHNlYXJjaEZpZWxkLnZhbCh0aGlzLl9kZWZhdWx0VGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlcXVpcmVkQXR0cmlidXRlID0gdGhpcy5fJGVsLmF0dHIoJ3JlcXVpcmVkJyk7XG4gICAgICAgIGlmIChyZXF1aXJlZEF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgc2VhcmNoRmllbGQuYXR0cigncmVxdWlyZWQnLCByZXF1aXJlZEF0dHJpYnV0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXR0YWNoIGNsYXNzXG4gICAgICAgIHNlYXJjaEZpZWxkLmRhdGEoQXV0b0NvbXBsZXRlLk5BTUUsIHRoaXMpO1xuICAgICAgICAvLyByZXBsYWNlIG9yaWdpbmFsIHdpdGggc2VhcmNoRmllbGRcbiAgICAgICAgdGhpcy5fJGVsLnJlcGxhY2VXaXRoKHNlYXJjaEZpZWxkKTtcbiAgICAgICAgdGhpcy5fJGVsID0gc2VhcmNoRmllbGQ7XG4gICAgICAgIHRoaXMuX2VsID0gc2VhcmNoRmllbGQuZ2V0KDApO1xuICAgIH07XG4gICAgQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBiaW5kIGRlZmF1bHQgZXZlbnRzXG4gICAgICAgIHRoaXMuYmluZERlZmF1bHRFdmVudExpc3RlbmVycygpO1xuICAgICAgICAvLyBSRVNPTFZFUlxuICAgICAgICBpZiAodGhpcy5fc2V0dGluZ3MucmVzb2x2ZXIgPT09ICdhamF4Jykge1xuICAgICAgICAgICAgLy8gY29uZmlndXJlIGRlZmF1bHQgcmVzb2x2ZXJcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZXIgPSBuZXcgQWpheFJlc29sdmVyKHRoaXMuX3NldHRpbmdzLnJlc29sdmVyU2V0dGluZ3MpO1xuICAgICAgICB9XG4gICAgICAgIC8vIERyb3Bkb3duXG4gICAgICAgIGlmICh0aGlzLmdldEJvb3RzdHJhcFZlcnNpb24oKVswXSA9PT0gNCkge1xuICAgICAgICAgICAgLy8gdjRcbiAgICAgICAgICAgIHRoaXMuX2RkID0gbmV3IERyb3Bkb3duVjQodGhpcy5fJGVsLCB0aGlzLl9zZXR0aW5ncy5mb3JtYXRSZXN1bHQsIHRoaXMuX3NldHRpbmdzLmF1dG9TZWxlY3QsIHRoaXMuX3NldHRpbmdzLmZvcm1hdEZyZWVWYWx1ZSwgdGhpcy5fc2V0dGluZ3MuaW5kaWNhdG9ycyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9kZCA9IG5ldyBEcm9wZG93blYzKHRoaXMuXyRlbCwgdGhpcy5fc2V0dGluZ3MuZm9ybWF0UmVzdWx0LCB0aGlzLl9zZXR0aW5ncy5hdXRvU2VsZWN0LCB0aGlzLl9zZXR0aW5ncy5ub1Jlc3VsdHNUZXh0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5iaW5kRGVmYXVsdEV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl8kZWwub24oJ2tleWRvd24nLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygna2V5ZG93bicsIGV2dC53aGljaCwgZXZ0KTtcbiAgICAgICAgICAgIHN3aXRjaCAoZXZ0LndoaWNoKSB7XG4gICAgICAgICAgICAgICAgY2FzZSA5OiAvLyBUQUJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuX3NldHRpbmdzLmF1dG9TZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAvLyBpZiBhdXRvU2VsZWN0IGVuYWJsZWQgc2VsZWN0cyBvbiBibHVyIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgaXRlbVxuICAgICAgICAgICAgICAgICAgICAvLyAgIHRoaXMuX2RkLnNlbGVjdEZvY3VzSXRlbSgpO1xuICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fZGQuaXNJdGVtRm9jdXNlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RkLnNlbGVjdEZvY3VzSXRlbSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFfdGhpcy5fc2VsZWN0ZWRJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB3ZSBoYXZlbid0IHNlbGVjdGVkIGFuIGl0ZW0gKHRodXMgZmlyaW5nIHRoZSBjb3JyZXNwb25kaW5nIGV2ZW50KSB3ZSBmaXJlIHRoZSBmcmVlIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZWxhdGVkIHRvIGlzc3VlICM3MVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl8kZWwudmFsKCkgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuXyRlbC50cmlnZ2VyKCdhdXRvY29tcGxldGUuZnJlZXZhbHVlJywgX3RoaXMuXyRlbC52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RkLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMzogLy8gRU5URVJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9kZC5pc0l0ZW1Gb2N1c2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZGQuc2VsZWN0Rm9jdXNJdGVtKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIV90aGlzLl9zZWxlY3RlZEl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fJGVsLnZhbCgpICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl8kZWwudHJpZ2dlcignYXV0b2NvbXBsZXRlLmZyZWV2YWx1ZScsIF90aGlzLl8kZWwudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9kZC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fc2V0dGluZ3MucHJldmVudEVudGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncHJldmVudERlZmF1bHQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgICAgICAgICAgIC8vIGFycm93IERPV04gKGhlcmUgZm9yIHVzYWJpbGl0eSAtIGlzc3VlICM4MClcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RkLmZvY3VzTmV4dEl0ZW0oKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzODogLy8gdXAgYXJyb3cgKGhlcmUgZm9yIHVzYWJpbGl0eSAtIGlzc3VlICM4MClcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RkLmZvY3VzUHJldmlvdXNJdGVtKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fJGVsLm9uKCdrZXl1cCcsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdrZXl1cCcsIGV2dC53aGljaCwgZXZ0KTtcbiAgICAgICAgICAgIC8vIGNoZWNrIGtleVxuICAgICAgICAgICAgc3dpdGNoIChldnQud2hpY2gpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE2OiAvLyBzaGlmdFxuICAgICAgICAgICAgICAgIGNhc2UgMTc6IC8vIGN0cmxcbiAgICAgICAgICAgICAgICBjYXNlIDE4OiAvLyBhbHRcbiAgICAgICAgICAgICAgICBjYXNlIDM5OiAvLyByaWdodFxuICAgICAgICAgICAgICAgIGNhc2UgMzc6IC8vIGxlZnRcbiAgICAgICAgICAgICAgICBjYXNlIDM2OiAvLyBob21lXG4gICAgICAgICAgICAgICAgY2FzZSAzNTogLy8gZW5kXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgICAgIC8vIEVOVEVSXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9kZC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgICAgICAgIC8vIEVTQ1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZGQuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgICAgICAgICAgICAvLyBhcnJvdyBET1dOXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuX2RkLmZvY3VzTmV4dEl0ZW0oKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzODogLy8gdXAgYXJyb3dcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5fZGQuZm9jdXNQcmV2aW91c0l0ZW0oKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgc2VsZWN0ZWRJdGVtIGFzIHdlIG1vZGlmaWVkIGlucHV0IHZhbHVlIChyZWxhdGVkIHRvIGlzc3VlICM3MSlcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3NlbGVjdGVkSXRlbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IF90aGlzLl8kZWwudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhhbmRsZXJUeXBlZChuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl8kZWwub24oJ2JsdXInLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhldnQpO1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5fZGQuaXNNb3VzZU92ZXIgJiYgX3RoaXMuX2RkLmlzRGRNb3VzZU92ZXIgJiYgX3RoaXMuX2RkLmlzU2hvd24oKSkge1xuICAgICAgICAgICAgICAgIC8vIEZpcmVmb3ggV29ya2Fyb3VuZFxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBfdGhpcy5fJGVsLmZvY3VzKCk7IH0pO1xuICAgICAgICAgICAgICAgIC8vIE90aGVyIGJyb3dzZXJzXG4gICAgICAgICAgICAgICAgX3RoaXMuXyRlbC5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIV90aGlzLl9kZC5pc01vdXNlT3Zlcikge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5faXNTZWxlY3RFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0J3MgYSBzZWxlY3QgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX2RkLmlzSXRlbUZvY3VzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9kZC5zZWxlY3RGb2N1c0l0ZW0oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgoX3RoaXMuX3NlbGVjdGVkSXRlbSAhPT0gbnVsbCkgJiYgKF90aGlzLl8kZWwudmFsKCkgIT09ICcnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVzZWxlY3QgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl8kZWwudHJpZ2dlcignYXV0b2NvbXBsZXRlLnNlbGVjdCcsIF90aGlzLl9zZWxlY3RlZEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKChfdGhpcy5fJGVsLnZhbCgpICE9PSAnJykgJiYgKF90aGlzLl9kZWZhdWx0VmFsdWUgIT09IG51bGwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZWxlY3QgRGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuXyRlbC52YWwoX3RoaXMuX2RlZmF1bHRUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zZWxlY3RIaWRkZW5GaWVsZC52YWwoX3RoaXMuX2RlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc2VsZWN0ZWRJdGVtID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl8kZWwudHJpZ2dlcignYXV0b2NvbXBsZXRlLnNlbGVjdCcsIF90aGlzLl9zZWxlY3RlZEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHkgdGhlIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuXyRlbC52YWwoJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3NlbGVjdEhpZGRlbkZpZWxkLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc2VsZWN0ZWRJdGVtID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl8kZWwudHJpZ2dlcignYXV0b2NvbXBsZXRlLnNlbGVjdCcsIF90aGlzLl9zZWxlY3RlZEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBJdCdzIGEgdGV4dCBlbGVtZW50LCB3ZSBhY2NlcHQgY3VzdG9tIHZhbHVlLlxuICAgICAgICAgICAgICAgICAgICAvLyBEZXZlbG9wZXJzIG1heSBzdWJzY3JpYmUgdG8gYGF1dG9jb21wbGV0ZS5mcmVldmFsdWVgIHRvIGdldCBub3RpZmllZCBvZiB0aGlzXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fc2VsZWN0ZWRJdGVtID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fJGVsLnRyaWdnZXIoJ2F1dG9jb21wbGV0ZS5mcmVldmFsdWUnLCBfdGhpcy5fJGVsLnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5fZGQuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gc2VsZWN0ZWQgZXZlbnRcbiAgICAgICAgLy8gQHRzLWlnbm9yZSAtIElnbm9yaW5nIFRTIHR5cGUgY2hlY2tpbmdcbiAgICAgICAgdGhpcy5fJGVsLm9uKCdhdXRvY29tcGxldGUuc2VsZWN0JywgZnVuY3Rpb24gKGV2dCwgaXRlbSkge1xuICAgICAgICAgICAgX3RoaXMuX3NlbGVjdGVkSXRlbSA9IGl0ZW07XG4gICAgICAgICAgICBfdGhpcy5pdGVtU2VsZWN0ZWREZWZhdWx0SGFuZGxlcihpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFBhc3RlIGV2ZW50XG4gICAgICAgIC8vIFRoZSBldmVudCBvY2N1cnMgYmVmb3JlIHRoZSB2YWx1ZSBpcyBwYXN0ZWQuIHNhZmUgYmVoYXZpb3VyIHNob3VsZCBiZSB0cmlnZ2VyaW5nIGBrZXl1cGBcbiAgICAgICAgdGhpcy5fJGVsLm9uKCdwYXN0ZScsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl8kZWwudHJpZ2dlcigna2V5dXAnLCBldnQpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5oYW5kbGVyVHlwZWQgPSBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgLy8gZmllbGQgdmFsdWUgY2hhbmdlZFxuICAgICAgICAvLyBjdXN0b20gaGFuZGxlciBtYXkgY2hhbmdlIG5ld1ZhbHVlXG4gICAgICAgIGlmICh0aGlzLl9zZXR0aW5ncy5ldmVudHMudHlwZWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdGhpcy5fc2V0dGluZ3MuZXZlbnRzLnR5cGVkKG5ld1ZhbHVlLCB0aGlzLl8kZWwpO1xuICAgICAgICAgICAgaWYgKCFuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB2YWx1ZSA+PSBtaW5MZW5ndGgsIHN0YXJ0IGF1dG9jb21wbGV0ZVxuICAgICAgICBpZiAobmV3VmFsdWUubGVuZ3RoID49IHRoaXMuX3NldHRpbmdzLm1pbkxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fc2VhcmNoVGV4dCA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVyUHJlU2VhcmNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9kZC5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEF1dG9Db21wbGV0ZS5wcm90b3R5cGUuaGFuZGxlclByZVNlYXJjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZywgc3RhcnQgc2VhcmNoXG4gICAgICAgIC8vIGN1c3RvbSBoYW5kbGVyIG1heSBjaGFuZ2UgbmV3VmFsdWVcbiAgICAgICAgaWYgKHRoaXMuX3NldHRpbmdzLmV2ZW50cy5zZWFyY2hQcmUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IHRoaXMuX3NldHRpbmdzLmV2ZW50cy5zZWFyY2hQcmUodGhpcy5fc2VhcmNoVGV4dCwgdGhpcy5fJGVsKTtcbiAgICAgICAgICAgIGlmICghbmV3VmFsdWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5fc2VhcmNoVGV4dCA9IG5ld1ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFuZGxlckRvU2VhcmNoKCk7XG4gICAgfTtcbiAgICBBdXRvQ29tcGxldGUucHJvdG90eXBlLmhhbmRsZXJEb1NlYXJjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gY3VzdG9tIGhhbmRsZXIgbWF5IGNoYW5nZSBuZXdWYWx1ZVxuICAgICAgICB0aGlzLl9kZC5zZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICBpZiAodGhpcy5fc2V0dGluZ3MuZXZlbnRzLnNlYXJjaCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fc2V0dGluZ3MuZXZlbnRzLnNlYXJjaCh0aGlzLl9zZWFyY2hUZXh0LCBmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgICAgIF90aGlzLnBvc3RTZWFyY2hDYWxsYmFjayhyZXN1bHRzKTtcbiAgICAgICAgICAgIH0sIHRoaXMuXyRlbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBEZWZhdWx0IGJlaGF2aW91clxuICAgICAgICAgICAgLy8gc2VhcmNoIHVzaW5nIGN1cnJlbnQgcmVzb2x2ZXJcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc29sdmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlci5zZWFyY2godGhpcy5fc2VhcmNoVGV4dCwgZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zdFNlYXJjaENhbGxiYWNrKHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBBdXRvQ29tcGxldGUucHJvdG90eXBlLnBvc3RTZWFyY2hDYWxsYmFjayA9IGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgIC8vIGN1c3RvbSBoYW5kbGVyIG1heSBjaGFuZ2UgbmV3VmFsdWVcbiAgICAgICAgaWYgKHRoaXMuX3NldHRpbmdzLmV2ZW50cy5zZWFyY2hQb3N0KSB7XG4gICAgICAgICAgICByZXN1bHRzID0gdGhpcy5fc2V0dGluZ3MuZXZlbnRzLnNlYXJjaFBvc3QocmVzdWx0cywgdGhpcy5fJGVsKTtcbiAgICAgICAgICAgIGlmICgodHlwZW9mIHJlc3VsdHMgPT09ICdib29sZWFuJykgJiYgIXJlc3VsdHMpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RkLnNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICB0aGlzLmhhbmRsZXJTdGFydFNob3cocmVzdWx0cyk7XG4gICAgfTtcbiAgICBBdXRvQ29tcGxldGUucHJvdG90eXBlLmhhbmRsZXJTdGFydFNob3cgPSBmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImRlZmF1bHRFdmVudFN0YXJ0U2hvd1wiLCByZXN1bHRzKTtcbiAgICAgICAgLy8gZm9yIGV2ZXJ5IHJlc3VsdCwgZHJhdyBpdFxuICAgICAgICB0aGlzLl9kZC51cGRhdGVJdGVtcyhyZXN1bHRzLCB0aGlzLl9zZWFyY2hUZXh0KTtcbiAgICB9O1xuICAgIEF1dG9Db21wbGV0ZS5wcm90b3R5cGUuaXRlbVNlbGVjdGVkRGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAvLyB0aGlzIGlzIGEgY29lcmNlIGNoZWNrICghPSkgdG8gY292ZXIgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGl0ZW0gIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gZGVmYXVsdCBiZWhhdmlvdXIgaXMgc2V0IGVsbWVudCdzIC52YWwoKVxuICAgICAgICAgICAgdmFyIGl0ZW1Gb3JtYXR0ZWQgPSB0aGlzLl9zZXR0aW5ncy5mb3JtYXRSZXN1bHQoaXRlbSk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW1Gb3JtYXR0ZWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaXRlbUZvcm1hdHRlZCA9IHsgdGV4dDogaXRlbUZvcm1hdHRlZCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fJGVsLnZhbChpdGVtRm9ybWF0dGVkLnRleHQpO1xuICAgICAgICAgICAgLy8gaWYgdGhlIGVsZW1lbnQgaXMgYSBzZWxlY3RcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1NlbGVjdEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RIaWRkZW5GaWVsZC52YWwoaXRlbUZvcm1hdHRlZC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpdGVtIGlzIG51bGwgLT4gY2xlYXIgdGhlIHZhbHVlXG4gICAgICAgICAgICB0aGlzLl8kZWwudmFsKCcnKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1NlbGVjdEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RIaWRkZW5GaWVsZC52YWwoJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNhdmUgc2VsZWN0ZWQgaXRlbVxuICAgICAgICB0aGlzLl9zZWxlY3RlZEl0ZW0gPSBpdGVtO1xuICAgICAgICB0aGlzLl9kZC5vbkl0ZW1TZWxlY3RlZChpdGVtKTtcbiAgICAgICAgLy8gYW5kIGhpZGVcbiAgICAgICAgdGhpcy5fZGQuaGlkZSgpO1xuICAgIH07XG4gICAgQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5kZWZhdWx0Rm9ybWF0UmVzdWx0ID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHsgdGV4dDogaXRlbSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGl0ZW0udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyByZXR1cm4gYSB0b1N0cmluZyBvZiB0aGUgaXRlbSBhcyBsYXN0IHJlc29ydFxuICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcignTm8gZGVmYXVsdCBmb3JtYXR0ZXIgZm9yIGl0ZW0nLCBpdGVtKTtcbiAgICAgICAgICAgIHJldHVybiB7IHRleHQ6IGl0ZW0udG9TdHJpbmcoKSB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBdXRvQ29tcGxldGUucHJvdG90eXBlLm1hbmFnZUFQSSA9IGZ1bmN0aW9uIChBUElDbWQsIHBhcmFtcykge1xuICAgICAgICAvLyBtYW5hZ2VzIHB1YmxpYyBBUElcbiAgICAgICAgaWYgKEFQSUNtZCA9PT0gJ3NldCcpIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbVNlbGVjdGVkRGVmYXVsdEhhbmRsZXIocGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBUElDbWQgPT09ICdjbGVhcicpIHtcbiAgICAgICAgICAgIC8vIHNob3J0Y3V0XG4gICAgICAgICAgICB0aGlzLml0ZW1TZWxlY3RlZERlZmF1bHRIYW5kbGVyKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFQSUNtZCA9PT0gJ3Nob3cnKSB7XG4gICAgICAgICAgICAvLyBzaG9ydGN1dFxuICAgICAgICAgICAgdGhpcy5fJGVsLnRyaWdnZXIoJ2tleXVwJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQVBJQ21kID09PSAndXBkYXRlUmVzb2x2ZXInKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgcmVzb2x2ZXJcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZXIgPSBuZXcgQWpheFJlc29sdmVyKHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEF1dG9Db21wbGV0ZS5OQU1FID0gJ2F1dG9Db21wbGV0ZSc7XG4gICAgcmV0dXJuIEF1dG9Db21wbGV0ZTtcbn0oKSk7XG5leHBvcnQgeyBBdXRvQ29tcGxldGUgfTtcbihmdW5jdGlvbiAoJCwgd2luZG93LCBkb2N1bWVudCkge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICAkLmZuW0F1dG9Db21wbGV0ZS5OQU1FXSA9IGZ1bmN0aW9uIChvcHRpb25zT3JBUEksIG9wdGlvbmFsUGFyYW1zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHBsdWdpbkNsYXNzO1xuICAgICAgICAgICAgcGx1Z2luQ2xhc3MgPSAkKHRoaXMpLmRhdGEoQXV0b0NvbXBsZXRlLk5BTUUpO1xuICAgICAgICAgICAgaWYgKCFwbHVnaW5DbGFzcykge1xuICAgICAgICAgICAgICAgIHBsdWdpbkNsYXNzID0gbmV3IEF1dG9Db21wbGV0ZSh0aGlzLCBvcHRpb25zT3JBUEkpO1xuICAgICAgICAgICAgICAgICQodGhpcykuZGF0YShBdXRvQ29tcGxldGUuTkFNRSwgcGx1Z2luQ2xhc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGx1Z2luQ2xhc3MubWFuYWdlQVBJKG9wdGlvbnNPckFQSSwgb3B0aW9uYWxQYXJhbXMpO1xuICAgICAgICB9KTtcbiAgICB9O1xufSkoalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=